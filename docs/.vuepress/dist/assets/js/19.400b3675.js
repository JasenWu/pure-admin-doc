(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{674:function(t,s,a){"use strict";a.r(s);var n=a(34),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("p",[t._v("平台封装了 "),a("code",[t._v("axios")]),t._v("，支持所有请求方式，内置 "),a("code",[t._v("token")]),t._v(" 及过期自动刷新")]),t._v(" "),a("h2",{attrs:{id:"代码思路"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#代码思路"}},[t._v("#")]),t._v(" 代码思路")]),t._v(" "),a("h3",{attrs:{id:"_1-请求加载动画选用-nprogress"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-请求加载动画选用-nprogress"}},[t._v("#")]),t._v(" 1. 请求加载动画选用 "),a("a",{attrs:{href:"https://www.npmjs.com/package/nprogress",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("nprogress")]),a("OutboundLink")],1)]),t._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 请求拦截开启动画")]),t._v("\nNProgress.start"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 响应拦截及请求失败关闭动画")]),t._v("\nNProgress.done"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("h3",{attrs:{id:"_2-通用配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-通用配置"}},[t._v("#")]),t._v(" 2. 通用配置")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"http://www.axios-js.com/zh-cn/docs/#axios-request-config-1",target:"_blank",rel:"noopener noreferrer"}},[t._v("axios 中文文档"),a("OutboundLink")],1)])]),t._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("const defaultConfig: AxiosRequestConfig "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 相对 URL（平台根据当前环境判断baseURL的值，VITE_PROXY_DOMAIN_REAL为线上环境接口地址，VITE_PROXY_DOMAIN为本地开发环境接口代理地址）")]),t._v("\n  baseURL:\n    process.env.NODE_ENV "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"production"')]),t._v("\n      ? VITE_PROXY_DOMAIN_REAL\n      "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" VITE_PROXY_DOMAIN,\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 请求超时时间")]),t._v("\n  timeout: "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10000")]),t._v(",\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 请求头")]),t._v("\n  headers: "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    Accept: "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"application/json, text/plain, */*"')]),t._v(",\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Content-Type"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"application/json"')]),t._v(",\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"X-Requested-With"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"XMLHttpRequest"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(",\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 采用qs将数组格式参数序列化（支持数组格式的参数）")]),t._v("\n  paramsSerializer: params "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" qs.stringify"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("params, "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" indices: "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br")])]),a("h3",{attrs:{id:"_3-将所有请求工具和方法都封装在了一个叫purehttp的类"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-将所有请求工具和方法都封装在了一个叫purehttp的类"}},[t._v("#")]),t._v(" 3. 将所有请求工具和方法都封装在了一个叫"),a("code",[t._v("PureHttp")]),t._v("的类")]),t._v(" "),a("ul",[a("li",[t._v("两个构造函数，在"),a("code",[t._v("PureHttp")]),t._v("创建或者实例化时候被调用："),a("br"),t._v("\n① 请求拦截 "),a("a",{attrs:{href:"https://gitee.com/yiming_chang/vue-pure-admin/blob/main/src/utils/http/index.ts#L48",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("httpInterceptorsRequest")]),a("OutboundLink")],1),t._v(" "),a("Badge",{attrs:{text:"代码"}}),a("br"),t._v("\n② 响应拦截 "),a("a",{attrs:{href:"https://gitee.com/yiming_chang/vue-pure-admin/blob/main/src/utils/http/index.ts#L91",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("httpInterceptorsResponse")]),a("OutboundLink")],1),t._v(" "),a("Badge",{attrs:{text:"代码"}})],1),t._v(" "),a("li",[t._v("工具函数"),a("br"),t._v("\n① 通用请求工具函数 "),a("a",{attrs:{href:"https://gitee.com/yiming_chang/vue-pure-admin/blob/main/src/utils/http/index.ts#L121",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("request")]),a("OutboundLink")],1),t._v(" "),a("Badge",{attrs:{text:"代码"}}),a("br"),t._v("\n② 单独抽离的 post 工具函数 "),a("a",{attrs:{href:"https://gitee.com/yiming_chang/vue-pure-admin/blob/main/src/utils/http/index.ts#L148",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("post")]),a("OutboundLink")],1),t._v(" "),a("Badge",{attrs:{text:"代码"}}),a("br"),t._v("\n③ 单独抽离的 get 工具函数 "),a("a",{attrs:{href:"https://gitee.com/yiming_chang/vue-pure-admin/blob/main/src/utils/http/index.ts#L157",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("get")]),a("OutboundLink")],1),t._v(" "),a("Badge",{attrs:{text:"代码"}})],1)]),t._v(" "),a("h3",{attrs:{id:"_4-token-及过期自动刷新"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-token-及过期自动刷新"}},[t._v("#")]),t._v(" 4. Token 及过期自动刷新")]),t._v(" "),a("ul",[a("li",[t._v("这里涉及三个文件"),a("br"),t._v("\n① "),a("a",{attrs:{href:"https://gitee.com/yiming_chang/vue-pure-admin/blob/main/src/utils/auth.ts",target:"_blank",rel:"noopener noreferrer"}},[t._v("auth.ts"),a("OutboundLink")],1),t._v(" "),a("Badge",{attrs:{text:"代码"}}),a("br"),t._v("\n② "),a("a",{attrs:{href:"https://gitee.com/yiming_chang/vue-pure-admin/blob/main/src/store/modules/user.ts",target:"_blank",rel:"noopener noreferrer"}},[t._v("user.ts"),a("OutboundLink")],1),t._v(" "),a("Badge",{attrs:{text:"代码"}}),a("br"),t._v("\n③ "),a("a",{attrs:{href:"https://gitee.com/yiming_chang/vue-pure-admin/blob/main/src/utils/http/index.ts#L63",target:"_blank",rel:"noopener noreferrer"}},[t._v("http/index.ts"),a("OutboundLink")],1),t._v(" "),a("Badge",{attrs:{text:"代码"}})],1)]),t._v(" "),a("h4",{attrs:{id:"auth-ts代码解析"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#auth-ts代码解析"}},[t._v("#")]),t._v(" "),a("code",[t._v("auth.ts")]),t._v("代码解析：")]),t._v(" "),a("ul",[a("li",[t._v("存储"),a("code",[t._v("token")]),t._v("放入"),a("code",[t._v("Cookies")]),t._v("和"),a("code",[t._v("sessionStorage")]),t._v("，键名："),a("code",[t._v("TokenKey")])]),t._v(" "),a("li",[t._v("暴露方法："),a("br"),t._v("\n① "),a("code",[t._v("getToken")]),t._v("：获取 token"),a("br"),t._v("\n② "),a("code",[t._v("setToken")]),t._v("：设置 token 以及过期时间（后端需要将用户信息和 token 以及过期时间都返回给前端，过期时间主要用于刷新 token，当然您也可以不采用此种方法刷新 token，您可以自行编写根据状态码判断是否 token 过期）"),a("br"),t._v("\n③ "),a("code",[t._v("removeToken")]),t._v("：删除 token")])]),t._v(" "),a("h4",{attrs:{id:"user-ts代码解析"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#user-ts代码解析"}},[t._v("#")]),t._v(" "),a("code",[t._v("user.ts")]),t._v("代码解析：")]),t._v(" "),a("ul",[a("li",[t._v("两个变量"),a("br"),t._v(" "),a("code",[t._v("token")]),t._v("、"),a("code",[t._v("name")])]),t._v(" "),a("li",[t._v("三个方法"),a("br"),t._v("\n① 通过"),a("code",[t._v("loginByUsername")]),t._v("调用登录接口进行登录"),a("br"),t._v("\n② 通过"),a("code",[t._v("logOut")]),t._v("调用登出函数进行清空缓存信息并登出"),a("br"),t._v("\n③ 通过"),a("code",[t._v("refreshToken")]),t._v("调用刷新 token 接口进行 token 刷新")])]),t._v(" "),a("h4",{attrs:{id:"http-index-ts代码解析"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#http-index-ts代码解析"}},[t._v("#")]),t._v(" "),a("code",[t._v("http/index.ts")]),t._v("代码解析：")]),t._v(" "),a("p",[a("code",[t._v("request")]),t._v(" 公共通用方法参数："),a("code",[t._v("method")]),t._v("请求方法、"),a("code",[t._v("url")]),t._v("请求地址、"),a("code",[t._v("param")]),t._v("请求参数、"),a("code",[t._v("axiosConfig")]),t._v("额外配置"),a("br"),t._v(" "),a("code",[t._v("post")]),t._v(" 公共 post 请求参数："),a("code",[t._v("url")]),t._v("请求地址、"),a("code",[t._v("params")]),t._v("请求参数、"),a("code",[t._v("config")]),t._v("额外配置"),a("br"),t._v(" "),a("code",[t._v("get")]),t._v(" 公共 get 请求参数："),a("code",[t._v("url")]),t._v("请求地址、"),a("code",[t._v("params")]),t._v("请求参数、"),a("code",[t._v("config")]),t._v("额外配置")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://gitee.com/yiming_chang/vue-pure-admin/blob/main/src/utils/http/index.ts#L63",target:"_blank",rel:"noopener noreferrer"}},[t._v("token 过期判断"),a("OutboundLink")],1),t._v(" "),a("Badge",{attrs:{text:"代码"}}),t._v("\n主要观察 expired，通过过期时间戳减去当前时间戳，如果大于 0，则说明 token 没有过期，如果小于等于 0 则 token 过期")],1)]),t._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("const token "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" getToken"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("token"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  const data "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" JSON.parse"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("token"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  const now "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" new Date"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(".getTime"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  const expired "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" parseInt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data.expires"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" - now "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("expired"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# token过期刷新")]),t._v("\n    useUserStoreHook"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      .refreshToken"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      .then"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("((")]),t._v("res: resultType"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        config.headers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Authorization"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Bearer "')]),t._v(" + res.accessToken"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$config")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    config.headers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Authorization"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Bearer "')]),t._v(" + data.accessToken"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$config")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$config")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br")])]),a("h2",{attrs:{id:"使用方法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用方法"}},[t._v("#")]),t._v(" 使用方法")]),t._v(" "),a("h3",{attrs:{id:"get-请求"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#get-请求"}},[t._v("#")]),t._v(" Get 请求")]),t._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" http "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" from "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/@/utils/http"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n// params传参\nhttp.request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'get'")]),t._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/xxx'")]),t._v(", "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" params: param "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n// url拼接传参\nhttp.request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'get'")]),t._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/xxx?message='")]),t._v(" + msg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br")])]),a("h3",{attrs:{id:"post-请求"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#post-请求"}},[t._v("#")]),t._v(" Post 请求")]),t._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" http "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" from "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/@/utils/http"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n// params传参\nhttp.request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'post'")]),t._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/xxx'")]),t._v(", "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" params: param "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n// data传参\nhttp.request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'post'")]),t._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/xxx'")]),t._v(", "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" data: param "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br")])])])}),[],!1,null,null,null);s.default=e.exports}}]);