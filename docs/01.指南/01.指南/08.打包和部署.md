---
title: 打包和部署
date: 2022-11-07
permalink: /pages/build/
---

## 打包

### 打包路径

平台提供了全局打包路径 [VITE_PUBLIC_PATH](https://gitee.com/yiming_chang/pure-admin-thin/blob/main/.env.production#L2) ，默认 `/`，可根据需求自行修改。比如平台的预览地址是 `https://yiming_chang.gitee.io/vue-pure-admin/#/login`，可以看到根目录 `https://yiming_chang.gitee.io` 后面又跟了个 `/vue-pure-admin/` 子目录，那么我们打包时就应该把 `VITE_PUBLIC_PATH` 改成 `/vue-pure-admin/`

### 本地环境打包预览

```
pnpm preview:build
```

### 预发布打包

[.env.staging](https://gitee.com/yiming_chang/pure-admin-thin/blob/main/.env.staging) 文件为预发布打包前的配置文件，[预发布](https://cn.vitejs.dev/guide/env-and-mode.html#modes) <Badge text="vite文档"/>

```
pnpm build:staging
```

### 正式环境打包

[.env.production](https://gitee.com/yiming_chang/pure-admin-thin/blob/main/.env.production) 文件为正式环境打包前的配置文件

```
pnpm build
```

### 打包分析

```
pnpm report
```

![report](~@alias/img/guide/report.jpg)

### 项目文件、语言分析

分析项目采用了哪些语言以及代码量

```
pnpm cloc
```

![image-cloc](~@alias/img/guide/cloc.jpg)

:::tip 打包优化
点击查看更多 [打包优化](/pages/buildgood/)
:::

## 部署

即将发布
